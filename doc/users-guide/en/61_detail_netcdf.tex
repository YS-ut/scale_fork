\section{SCALE-IO netCDF}
In this section, data file which SCALE reads and writes (SCALE-IO netCDF) is explained.
SCALE employs netCDF (network Common Data Format) as data file format which is a file format and software developed by Unidata (\url{http://www.unidata.ucar.edu}).
NetCDF is self-describing and machine-independent data format.

\subsection{Global Attributes}
SCALE-IO netCDF file contains information of data in it and spatial decompsition as global attributes (Table \ref{table:netcdf_global_attrs}).
The attributes of myrank, rankidx, and procsize are not output when the single file I/O is used (\nmitem{IO_AGGREGATE}=.true.).

\begin{table}[h]
  \caption{Global attributes in SCALE-IO netCDF file}
  \label{table:netcdf_global_attrs}
  \begin{tabular}{|lll|} \hline
    attribute name & description & remarks \\ \hline \hline
    title & brief description of data & value of \nmitem{History_TITLE} \\
    source & name of the source software & value of \nmitem{History_SOURCE} \\
    institution & data author & value of \nmitem{History_INSTITUTION} \\
    myrank & rank id of MPI process & \verb|PRC_myrank| in the model \\
    rankidx & mapping index of the 2D decompsition & \verb|PRC_2Drank(PRC_myrank,1:2)| in the model \\
    procsize & number of the 2D decomposition & \verb|(/| \nmitem{PRC_NUM_X}, \nmitem{PRC_NUM_Y} \verb|/)| in the model \\ \hline
  \end{tabular}
\end{table}

\noindent Refer Section \ref{sec:domain} for \nmitem{PRC_NUM_X, PRC_NUM_Y}.


\subsection{Data in the halo region}

Whether the data contains data in the halo region depends on kinds of the data and the configuration.

In the init (or restart) file and boundary data file, the halo data is contained when the lateral boundary conditions are not periodic (\nmitem{PRC_PERIODIC_X}, \nmitem{PRC_PERIODIC_Y} = .false. in \namelist{PARAM_PRC}) or the single file I/O is used (\nmitem{IO_AGGREGATE}=.true. in \namelist{PARAM_IO}), otherwise isn't.

In the history data file, it is contained when the lateral boundary conditions are not periodic (\nmitem{PRC_PERIODIC_X}, \nmitem{PRC_PERIODIC_Y} = .false. in \namelist{PARAM_PRC}) and \nmitem{HIST_BND}=.true. in  \namelist{PARAM_HIST}, otherwise isn't (refer Section \ref{sec:output}).



\subsection{Axis variables}
SCALE-IO netCDF file contains data of axes.
The data for the z-direction can be absent when it is not necessary, e.g, for horizontal two dimensional data.
Table \ref{table:netcdf_axes} shows list of the axis data.
\begin{longtable}{|l|ll|}
  \caption{Axis data in SCALE-IO netCDF.}
  \label{table:netcdf_axes} \\ \hline
  & name & description \\ \hline \hline
  \endfirsthead
  \multicolumn{3}{l}{\small\it Cont.} \\ \hline
  & name & description \\ \hline \hline
  \endhead
  \hline
  \endfoot
    1D
    & x & full level position in x-direction of the data in the file \\
    & y & full level position in y-direction of the data in the file \\
    & z & full level position in z-direction of the atmospheric data in the file \\
    & xh & half level position in x-direction of the data in the file \\
    & yh & half level position in y-direction of the data in the file \\
    & zh & half level position in z-direction of the atmospheric data in the file \\
    & lz & full level position in z-direction of the land data in the file \\
    & lzh & half level position in z-direction of the land data in the file \\
    & uz & full level position in z-direction of the urban canopy data in the file \\
    & uzh & half level position in z-direction of the urban canopy data in the file \\
    & CZ & full level grid position in z-direction of the atmospheric model (inc. halo grids) \\
    & FZ & half level grid position in z-direction of the atmospheric model (inc. halo grids) \\
    & CDZ & full level grid spacing in z-direction of the atmospheric model (inc. halo grids) \\
    & FDZ & half level grid spacing in z-direction of the atmospheric model (inc. halo grids) \\
    & CX & full level grid position in x-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & FX & half level grid position in x-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & CDX & full level grid spacing in x-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & FDX & half level grid spacing in x-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & CY & full level grid position in y-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & FY & half level grid position in y-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & CDY & full level grid spacing in y-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & FDY & half level grid spacing in y-direction of the atmospheric model for the corresponding process (inc. halo grids) \\
    & LCZ & full level grid position in z-direction of the land model \\
    & LFZ & half level grid position in z-direction of the land model \\
    & LCDZ & full level grid spacing in z-direction of the land model \\
    & UCZ & full level grid position in z-direction of the urban canopy model \\
    & UFZ & half level grid position in z-direction of the urban canopy model \\
    & UCDZ & full level grid spacing in z-direction of the urban canopy model \\
    & CBFZ & buffer factor at the full level in z-direction \\
    & FBFZ & buffer factor at the half level in z-direction \\
    & CBFX & buffer factor at the full level in x-direction for the corresponding process \\
    & FBFX & buffer factor at the half level in x-direction for the corresponding process \\
    & CBFY & buffer factor at the full level in y-direction for the corresponding process \\
    & FBFY & buffer factor at the half level in y-direction for the corresponding process \\
    & CXG & full level grid position in x-direction of the atmospheric model for the whole region (inc. halo grids) \\
    & FXG & half level grid position in x-direction of the atmospheric model for the whole region (inc. halo grids) \\
    & CYG & full level grid position in y-direction of the atmospheric model for the whole region (inc. halo grids) \\
    & FYG & half level grid position in y-direction of the atmospheric model for the whole region (inc. halo grids) \\
    & CBFXG & buffer factor at the full level in x-direction for the whole domain \\
    & FBFXG & buffer factor at the half level in x-direction for the whole domain \\
    & CBFYG & buffer factor at the full level in y-direction for the whole domain \\
    & FBFYG & buffer factor at the half level in y-direction for the whole domain \\
    & time & time informaion \\
    \hline
    2D
    & lon & longitude at the full level grid \\
    & lon\_uy & longitude at grid of half level in x-direction and full level in y-direction \\
    & lon\_xv & longitude at grid of full level in x-direction and half level in y-direction \\
    & lon\_uv & longitude at grid of half level in x-direction and half level in y-direction \\
    & lat & latitude at the full level grid \\
    & lat\_uy & latitude at grid of half level in x-direction and full level in y-direction \\
    & lat\_xv & latitude at grid of full level in x-direction and half level in y-direction \\
    & lat\_uv & latitude at grid of half level in x-direction and half level in y-direction \\
    \hline
    3D
    & height & heigth at the full level grid \\
    & height\_xyw & height at grid of full level in x-direction, full level in y-direction, and half level in z-direction \\
    & height\_xvz & height at grid of full level in x-direction, half level in y-direction, and full level in z-direction \\
    & height\_uyz & height at grid of half level in x-direction, full level in y-direction, and full level in z-direction \\
    & height\_xvw & height at grid of full level in x-direction, half level in y-direction, and half level in z-direction \\
    & height\_uyw & height at grid of half level in x-direction, full level in y-direction, and half level in z-direction \\
    & height\_uvz & height at grid of half level in x-direction, half level in y-direction, and full level in z-direction \\
    & height\_uvw & height at the half level grid \\
\end{longtable}

All the axis variables have long\_name and units attributes, which describe description and unit of the variable, respectively.
In addtion, x, y, xh, and yh variables have attributes for the total number of grids in the whole domain (size\_global), the start index in the tital grid of data in the file (start\_global), the number of the halo grids at the begin and end in the whole data (halo\_global), and the number of the halo grids of data in the file (halo\_local).



\subsection{Data variables}
Data variables have the attributes the describing undefined value (\_FillValue) and the missing value (missing\_value) as well as the long\_name and untis.

Data structure in the init (restart) data and boundary data files is identical to the array in the model, that is the z-x-y order.
On the other hand, it in the history data file is the x-y-z order.

