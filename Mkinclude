ifeq ($(origin BINDIR), undefined)
   BINDIR = $(TOPDIR)/bin/$(SCALE_SYS)
endif

ifeq ($(origin LIBDIR), undefined)
   LIBDIR = $(TOPDIR)/lib
endif

ifeq ($(origin MODDIR), undefined)
   MODDIR = $(TOPDIR)/include
endif

GTOOLDIR    = $(TOPDIR)/gtool
DCUTILSDIR  = $(TOPDIR)/dc_utils
SCALELIBDIR = $(TOPDIR)/scalelib

SCALELESDIR = $(TOPDIR)/scale-les
SCALEGMDIR  = $(TOPDIR)/scale-gm

ifeq ($(origin INDEX_DIR), undefined)
   INDEX_DIR = $(SCALELIBDIR)/include
endif

ifeq ($(AGGRESSIVE),T)
  FFLAGS = $(FFLAGS_AGGRESSIVE) $(PERF_MONIT) $(RDMA)
else
  ifeq ($(DEBUG),T)
    FFLAGS = $(FFLAGS_DEBUG) $(PERF_MONIT) $(RDMA)
    FFLAGS_DYN = $(FFLAGS)
    CFLAGS = $(CFLAGS_DEBUG) $(PERF_MONIT) $(RDMA)
  else
    FFLAGS = $(FFLAGS_FAST) $(PERF_MONIT) $(RDMA)
  endif
endif

ifeq ($(ENABLE_OPENMP),T)
      FFLAGS += -openmp -openmp-report
endif

ifeq ($(ENABLE_PAPI),T)
      FFLAGS += -D_PAPI_
      PAPI_INCLUDE = -I$(PAPI)/include
      PAPI_LIBS    = -L$(PAPI)/lib -lpapi
endif

ifneq ($(USE_NETCDF3),)
      CFLAGS += -DNETCDF3
endif

ifeq ($(ENABLE_FIXEDINDEX),T)
      FFLAGS += -D_FIXEDINDEX_
      inc_index = $(INDEX_DIR)/inc_index.h
else
      inc_index =
endif

ifeq ($(CHECK_MASS),T)
      FFLAGS += -DCHECK_MASS
endif
